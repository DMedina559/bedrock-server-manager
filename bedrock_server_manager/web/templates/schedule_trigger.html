<!-- bedrock-server-manager/bedrock_server_manager/web/templates/schedule_trigger.html -->
{# Macro to render the fields for a single task trigger #}
{% macro render_trigger_fields(trigger_num, existing_trigger_data=None) %}
    {# --- Trigger Group Start --- #}
    {# Add data attribute for easier JS targeting/removal #}
    <div class="trigger-group" id="trigger-group-{{ trigger_num }}" data-trigger-num="{{ trigger_num }}">

        {# Heading for the trigger, includes a remove button #}
        <div class="trigger-header">
            <h3>Trigger {{ trigger_num }}</h3>
            {# Add a button to remove this specific trigger group #}
            {# The onclick should call a JS function, passing the trigger_num #}
            <button type="button" class="action-button danger-button" onclick="removeTrigger({{ trigger_num }})" title="Remove Trigger {{ trigger_num }}">Ã—</button> {# Simple 'x' button #}
        </div>

        {# Trigger Type Selection #}
        <div class="form-group">
            <label for="trigger_type_{{ trigger_num }}" class="form-label">Trigger Type:</label>
            {# The JS needs to handle selecting the correct option if existing_trigger_data is passed #}
            <select id="trigger_type_{{ trigger_num }}" name="trigger_type_{{ trigger_num }}" class="form-input trigger-type-select" onchange="showTriggerFields({{ trigger_num }})">
                <option value="">-- Select Trigger Type --</option>
                <option value="TimeTrigger">One Time</option>
                <option value="Daily">Daily</option>
                <option value="Weekly">Weekly</option>
                <option value="Monthly">Monthly</option>
                {# Add other trigger types if applicable #}
            </select>
             {# Placeholder for validation errors for the type selection itself #}
            <div class="validation-error" data-field="trigger_type_{{ trigger_num }}"></div>
        </div>

        {# Placeholder Div for Dynamic Trigger Fields #}
        {# JavaScript (showTriggerFields function) MUST populate this div #}
        {# with correctly labelled form elements (.form-label, .form-input) #}
        <div class="trigger-fields-container" id="trigger_fields_{{ trigger_num }}">
             {# Content loaded by JS based on selected trigger type #}
             {# JS should also populate fields if existing_trigger_data is provided #}
        </div>

    </div> {# --- End Trigger Group --- #}
{% endmacro %}